# کنترل LED و بازر بر اساس فاصله با استفاده از سنسور اولتراسونیک

این پروژه نحوه استفاده از یک سنسور اولتراسونیک (HC-SR04) برای اندازه‌گیری فاصله و کنترل شدت نور LED و هشدار با استفاده از بازر را نشان می‌دهد.


## ویژگی‌ها
- اندازه‌گیری فاصله با دقت بالا با استفاده از سنسور اولتراسونیک.
- تغییر شدت نور LED بر اساس فاصله.
- فعال شدن بازر برای هشدار در صورتی که فاصله کم باشد.
- ارسال فاصله اندازه‌گیری‌شده به سریال مانیتور برای مشاهده.


## نیازمندی‌های سخت‌افزاری
- ۱ عدد ماژول سنسور اولتراسونیک (HC-SR04)
- ۱ عدد LED
- ۱ عدد بازر
- ۱ عدد مقاومت برای LED
- یک برد آردوینو
- برد بورد و سیم‌


## نحوه اتصال مدار
1. اتصال سنسور اولتراسونیک (HC-SR04):

- پایه VCC به ۵V آردوینو
- پایه GND به GND آردوینو
- پایه Trig به پین ۱۰ آردوینو
- پایه Echo به پین ۹ آردوینو

2. اتصال LED:

- پایه مثبت LED به پین ۱۱ آردوینو (از طریق مقاومت ۲۲۰Ω).
- پایه منفی LED به GND آردوینو.

3. اتصال بازر:

- پایه مثبت بازر به پین ۶ آردوینو.
- پایه منفی بازر به GND آردوینو.

## نحوه عملکرد
1. اندازه‌گیری فاصله:
سنسور اولتراسونیک پالس‌های صوتی ارسال کرده و مدت‌زمان بازگشت آن‌ها را اندازه‌گیری می‌کند. فاصله با استفاده از فرمول زیر محاسبه می‌شود:

```cpp
Distance = (Duration / 2) × 0.0343
```
که Duration مدت‌زمان رفت و برگشت سیگنال است.


2. کنترل شدت نور LED:
مقدار فاصله اندازه‌گیری‌شده با تابع map به شدت نور LED (۰ تا ۲۵۵) تبدیل می‌شود.

- فاصله کمتر = نور بیشتر.
- فاصله بیشتر = نور کمتر.

3. فعال‌سازی بازر:

اگر فاصله کمتر از مقدار مشخص باشد (نور LED کمتر از مقدار معینی)، بازر فعال شده و هشدار می‌دهد.


4. نمایش اطلاعات:

فاصله اندازه‌گیری‌شده در سریال مانیتور چاپ می‌شود.


## توضیحات کد
### بخش تنظیمات
- پین‌ها:

- led برای LED.
- specker برای بازر.
- trig و echo برای سنسور اولتراسونیک.

- ارتباط سریال:

تنظیم ارتباط سریال برای ارسال اطلاعات فاصله.


### بخش حلقه اصلی

1. ارسال پالس به سنسور اولتراسونیک.

2. دریافت مدت‌زمان بازگشت پالس.

3. محاسبه فاصله با فرمول.

4. تنظیم شدت نور LED بر اساس فاصله با استفاده از تابع map.

5. فعال یا غیرفعال کردن بازر بسته به مقدار فاصله.

6. ارسال اطلاعات فاصله به سریال مانیتور.
